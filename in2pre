/******************************************************************************

Welcome to GDB Online.
GDB online is an online compiler and debugger tool for C, C++, Python, PHP, Ruby, 
C#, VB, Perl, Swift, Prolog, Javascript, Pascal, HTML, CSS, JS
Code, Compile, Run and Debug online from anywhere in world.

*******************************************************************************/
#include <stdio.h>
#include<ctype.h>
#include<string.h>
#define MAX 20
char stack[MAX];
int top = -1;

void push(int a)
{
    stack[++top] = a;
}

char pop()
{
    return stack[top--];
}

int prcd(char c)
{
    if(c == '^')
        return 3;
    else if(c=='/' || c=='*')
        return 2;
    else if(c=='+' || c=='-')
        return 1;
    else
        return 0;
}

int main()
{
    int i,m,j=0;
    char str[MAX],pre[MAX];
    printf("Enter the expression : ");
    scanf("%s",str);
    m = strlen(str) - 1;
    for(i=m;i>=0;i--)
    {
        if(isalnum(str[i]))
        {
            pre[j++]= str[i];
        }
        else
        {
            if(str[i] == ')')
            {
                push(str[i]);
            }
            else if(str[i] == '(')
            {
                while(stack[top] != ')')
                {
                    pre[j++] = pop();
                }
                pop();
            }
            else
            {
                if(prcd(stack[top]) < prcd(str[i]))
                {
                    push(str[i]);
                }
                else
                {
                	while(prcd(stack[top])>=prcd(str[i])) {
					pre[j++]=pop();
					}
					push(str[i]);
                }
            }
        }
    }
    while (top != -1) {
	pre[j++]=pop();
	}
	pre[j]='\0';
	for(i=j-1;i>=0;i--)
	{
	    printf("%c",pre[i]);
	}
	return 0;
}
